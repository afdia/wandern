<!DOCTYPE html>
<html>
  <body>
    <p><a href="https://www.gpsvisualizer.com/convert_input">GPS Visualizer</a></p>
    <p>Route</p>
    <p id="cur"></p>
    <script>
      window.onload = function () {
        localStorage.getItem("route");
        navigator.geolocation.getCurrentPosition((position) => {
          let oldPart = localStorage.getItem("route") == null ? "" : localStorage.getItem("route");
          let newPart = oldPart + "/" + position.coords.latitude + "," + position.coords.longitude;
          let url = "https://www.google.com/maps/dir/" + newPart;
          document.getElementById("cur").innerHTML = '<a href="' + url + '">GPS Visualizer</a>';
          localStorage.setItem("route", newPart);
        });
      };
    </script>
  </body>
</html>
